(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{7698:function(e,t,a){Promise.resolve().then(a.bind(a,2790)),Promise.resolve().then(a.bind(a,1552)),Promise.resolve().then(a.t.bind(a,2972,23))},2790:function(e,t,a){"use strict";a.d(t,{default:function(){return r}});var l=a(7437),s=a(2265),n=a(9376);function r(){let[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(!1),[i,d]=(0,s.useState)({name:"",description:"",htmlContent:"",outputType:"multi_slide",tags:"",brand:""}),o=(0,n.useRouter)();async function c(e){e.preventDefault(),r(!0);try{let e=new FormData;e.append("name",i.name),e.append("description",i.description),e.append("htmlContent",i.htmlContent),e.append("outputType",i.outputType),e.append("tags",JSON.stringify(i.tags.split(",").map(e=>e.trim()).filter(Boolean))),i.brand&&e.append("brand",i.brand);let t=await fetch("/api/templates",{method:"POST",body:e});if(!t.ok)throw Error("Failed to create template");let a=await t.json();o.push("/templates/".concat(a.id))}catch(e){console.error("Error creating template:",e),alert("Failed to create template. Please try again.")}finally{r(!1),t(!1)}}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>t(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Template"}),e&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Upload New Template"}),(0,l.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,l.jsx)("input",{required:!0,type:"text",value:i.name,onChange:e=>d({...i,name:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"e.g., Board Deck v3"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Output Type *"}),(0,l.jsxs)("select",{required:!0,value:i.outputType,onChange:e=>d({...i,outputType:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,l.jsx)("option",{value:"single_slide",children:"Single Slide"}),(0,l.jsx)("option",{value:"multi_slide",children:"Multi Slide"}),(0,l.jsx)("option",{value:"one_pager",children:"One Pager"}),(0,l.jsx)("option",{value:"narrative",children:"Narrative"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,l.jsx)("textarea",{value:i.description,onChange:e=>d({...i,description:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:2})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),(0,l.jsx)("input",{type:"text",value:i.tags,onChange:e=>d({...i,tags:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"e.g., board, executive, roadmap"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),(0,l.jsx)("input",{type:"text",value:i.brand,onChange:e=>d({...i,brand:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HTML Content (with Handlebars) *"}),(0,l.jsx)("textarea",{required:!0,value:i.htmlContent,onChange:e=>d({...i,htmlContent:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 font-mono text-sm",rows:15,placeholder:'<div class="slide">\n  <h1>{{title}}</h1>\n  {{#if subtitle}}\n    <p>{{subtitle}}</p>\n  {{/if}}\n  {{#eachSection sections}}\n    <div class="section">\n      <h2>{{heading}}</h2>\n      {{#if bullets}}\n        <ul>\n          {{#each bullets}}\n            <li>{{this}}</li>\n          {{/each}}\n        </ul>\n      {{/if}}\n    </div>\n  {{/eachSection}}\n</div>'})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Uploading...":"Upload Template"})]})]})]})})]})}},1552:function(e,t,a){"use strict";a.d(t,{default:function(){return i}});var l=a(7437),s=a(2265),n=a(7648),r=a(4014);function i(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0);async function d(){try{let e=await fetch("/api/templates"),a=await e.json();t(a)}catch(e){console.error("Error fetching templates:",e)}finally{i(!1)}}return((0,s.useEffect)(()=>{d()},[]),a)?(0,l.jsx)("div",{className:"text-center py-12",children:"Loading..."}):0===e.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"No templates yet."}),(0,l.jsx)("p",{className:"text-gray-500",children:"Upload your first template to get started."})]}):(0,l.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,l.jsxs)(n.default,{href:"/templates/".concat(e.id),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.name}),e.description&&(0,l.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,l.jsx)("span",{className:"capitalize",children:e.output_type.replace("_"," ")}),(0,l.jsx)("span",{children:(0,r.WU)(new Date(e.updated_at),"MMM d, yyyy")})]}),e.tags&&e.tags.length>0&&(0,l.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:e.tags.map(e=>(0,l.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e},e))})]},e.id))})}},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var l=a(2972),s=a.n(l)},9376:function(e,t,a){"use strict";var l=a(5475);a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}})}},function(e){e.O(0,[972,14,971,117,744],function(){return e(e.s=7698)}),_N_E=e.O()}]);