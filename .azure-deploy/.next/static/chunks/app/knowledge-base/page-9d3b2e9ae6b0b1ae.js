(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{6379:function(e,t,a){Promise.resolve().then(a.bind(a,6573)),Promise.resolve().then(a.bind(a,8462)),Promise.resolve().then(a.t.bind(a,2972,23))},6573:function(e,t,a){"use strict";a.d(t,{default:function(){return r}});var s=a(7437),l=a(2265);function r(){let[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(!1),[n,i]=(0,l.useState)({title:"",content:"",type:"article",tags:"",brand:""});async function d(e){e.preventDefault(),r(!0);try{if(!(await fetch("/api/knowledge-base",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,tags:n.tags.split(",").map(e=>e.trim()).filter(Boolean)})})).ok)throw Error("Failed to create knowledge base article");window.location.reload()}catch(e){console.error("Error creating knowledge base article:",e),alert("Failed to create article. Please try again.")}finally{r(!1),t(!1)}}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>t(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Article"}),e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Add Knowledge Base Article"}),(0,s.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,s.jsx)("input",{required:!0,type:"text",value:n.title,onChange:e=>i({...n,title:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,s.jsxs)("select",{required:!0,value:n.type,onChange:e=>i({...n,type:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[(0,s.jsx)("option",{value:"article",children:"Article"}),(0,s.jsx)("option",{value:"deck",children:"Deck"}),(0,s.jsx)("option",{value:"spec",children:"Spec"}),(0,s.jsx)("option",{value:"note",children:"Note"}),(0,s.jsx)("option",{value:"data",children:"Data"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),(0,s.jsx)("textarea",{required:!0,value:n.content,onChange:e=>i({...n,content:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",rows:10})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),(0,s.jsx)("input",{type:"text",value:n.tags,onChange:e=>i({...n,tags:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"e.g., architecture, ai, roadmap"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),(0,s.jsx)("input",{type:"text",value:n.brand,onChange:e=>i({...n,brand:e.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Creating...":"Create Article"})]})]})]})})]})}},8462:function(e,t,a){"use strict";a.d(t,{default:function(){return n}});var s=a(7437),l=a(2265),r=a(4014);function n(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)(!0);async function i(){try{let e=await fetch("/api/knowledge-base"),a=await e.json();t(a)}catch(e){console.error("Error fetching knowledge base articles:",e)}finally{n(!1)}}return((0,l.useEffect)(()=>{i()},[]),a)?(0,s.jsx)("div",{className:"text-center py-12",children:"Loading..."}):0===e.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"No knowledge base articles yet."}),(0,s.jsx)("p",{className:"text-gray-500",children:"Upload your first article to get started."})]}):(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.title}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded capitalize",children:e.type})]}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:[e.content.substring(0,150),"..."]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,s.jsx)("span",{children:(0,r.WU)(new Date(e.updated_at),"MMM d, yyyy")}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:"flex gap-1",children:e.tags.slice(0,2).map(e=>(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e},e))})]})]},e.id))})}}},function(e){e.O(0,[972,14,971,117,744],function(){return e(e.s=6379)}),_N_E=e.O()}]);